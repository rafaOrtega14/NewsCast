<!DOCTYPE html>
<html>
<head>
	<title>Yournalist</title>
	<meta name="mobile-web-app-capable" content="yes">
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <link rel='shortcut icon' href='../favicon.ico'>
	<!-- We include CSS -->
	<link href="/stylesheets/style.css" rel="stylesheet" type="text/css">
</head>
<body>

	<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
		<!-- Blue header where user img and app title is -->
	  <header class="mdl-layout__header">
	    <div class="mdl-layout__header-row">
				<img src="images/user.png"></img>
	      <!-- Title -->
	      <span id="tit" class="mdl-layout-title">Yournalism</span>
	      <!-- Add spacer, to align navigation to the right -->
	      <div class="mdl-layout-spacer"></div>

		  </span>
	    </div>
	  </header>
		<!-- main content of the app-->
	  <main class="mdl-layout__content">
			<!-- Tabs definition -->
			<div class = "mdl-tabs mdl-js-tabs">
               <div class = "mdl-tabs__tab-bar">
                  <a href = "#tab1-panel" class = "mdl-tabs__tab is-active">Streams</a>
                  <a href = "#tab2-panel" class = "mdl-tabs__tab">Articles</a>
                  <a href = "#tab3-panel" class = "mdl-tabs__tab">Trends</a>
               </div>
							 <!-- Content for the first tab -->
               <div class = "mdl-tabs__panel is-active" id = "tab1-panel">
								 <div class="page-content">
									 <!-- if stream in live exists then charge the content -->
									 <% if(stream.length>0){ %>
										 <!-- we go through JSONARRAY and get our specific room and name -->
									 <% for(var i=0; i<stream.length;i++){ %>
										 <!-- we call watchstream from js and pass room as argument -->
									 <div class="demo-card-image mdl-card mdl-shadow--2dp" onclick="watchStream('<%= stream[i].room  %>')">
							<div class="mdl-card__title mdl-card--expand">
						 </div>
							<div class="mdl-card__actions">
								<!-- display streamer information -->
								<span class="demo-card-image__filename"><%= stream[i].name+" "+stream[i].room %></span>
							</div>
						</div>
						<!-- if not just charge a disapponting msg -->
						<% }}else{ %>
							<div class="mdl-grid center-items">
								<div class="mdl-cell mdl-cell--4-col">
									<h1>Sorry :(</h1>
									<h3>No streams Avaliable</h3>
								</div>
							</div>
							<% } %>
							<!-- Button use to start the stream -->
									 <button id="vid" onclick="begintoStream();launchIntoFullscreen(document.body);"
									 class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-js-ripple-effect">
										 Start Stream
									 </button>
								 </div>
               </div>
							 <!-- decorative button and tab -->
               <div class = "mdl-tabs__panel" id = "tab2-panel">
               </div>
							  <!-- decorative tab -->
               <div class = "mdl-tabs__panel" id = "tab3-panel"></div>
			</div>
	  	</main>
		<!-- Stream components -->
		<div id="video-box">
			<!-- Button place to end stream -->
			<button style="display:none" id="wrapper" onclick="EndStream()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent">
	  			FINISH STREAM
			</button>
		<!-- Video where you can place your steam -->
			<div><video style="display:none" id="myVideo" autoplay="autoplay" muted="muted" ></video></div>
		</div>
	</div>
	<!-- JS libraries -->
	<script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" 	crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/hmac-sha1.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-base64.js" type="text/javascript"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  	<script src='/javascripts/skylink.complete.js'  type='text/javascript'></script>
  	<script src="/javascripts/edge-attachmediastream.js"   type="text/javascript"></script>
  	<script src='/javascripts/config.js'   type='text/javascript'></script>
  	<script src='/javascripts/app.js'   type='text/javascript'></script>
</body>
</html>
